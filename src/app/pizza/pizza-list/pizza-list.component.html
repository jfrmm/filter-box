<asp-filter-box
  *ngIf="filters.length > 0"
  [filters]="filters"
  [filterBehaviours]="filterBehaviours"
  (index)="index(true)"
></asp-filter-box>

<mat-card>
  <mat-card-header fxLayout="row" fxLayoutGap="15px">
    <div>Pizzas</div>
    <label>Index Count: {{ indexCount }}</label>
  </mat-card-header>

  <mat-card-content>
    <table mat-table [dataSource]="dataSource" class="item-table">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let pizza">{{ pizza.id }}</td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
        <td mat-cell *matCellDef="let pizza">{{ pizza.name }}</td>
      </ng-container>

      <ng-container matColumnDef="base">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Base</th>
        <td mat-cell *matCellDef="let pizza">{{ pizza.base.value }}</td>
      </ng-container>

      <ng-container matColumnDef="restaurant">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Restaurant</th>
        <td mat-cell *matCellDef="let pizza">{{ pizza?.restaurant?.value }}</td>
      </ng-container>

      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Price</th>
        <td mat-cell *matCellDef="let pizza">{{ pizza?.price }}</td>
      </ng-container>

      <ng-container matColumnDef="rating">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Rating</th>
        <td mat-cell *matCellDef="let pizza">{{ pizza.rating.value }}</td>
      </ng-container>

      <ng-container matColumnDef="ratingDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Rating Date</th>
        <td mat-cell *matCellDef="let pizza">{{ pizza.ratingDate }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </mat-card-content>
</mat-card>
