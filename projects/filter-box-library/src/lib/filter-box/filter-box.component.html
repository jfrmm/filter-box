<mat-card>
  <div fxLayout="row wrap" fxLayoutAlign="start baseline">
    <div [fxFlexOffset]="config.flex.offset.left" [fxLayoutGap]="config.flex.gap">
      <!-- Allow content projection to the first row of the filter box card -->
      <ng-content select="[beforeFilters]"></ng-content>
    </div>
  </div>

  <div fxLayout="row" fxLayoutAlign="start baseline">
    <!-- Clear button -->
    <div *ngIf="filters?.length > 0" [fxFlex]="config.flex.offset.left">
      <ng-container [ngSwitch]="config.buttons.clearAll">
        <button *ngSwitchCase="'simple'" mat-icon-button type="button" (click)="onClickClearAllFilters()">
          <mat-icon>clear</mat-icon>
        </button>

        <button *ngSwitchCase="'full'" mat-raised-button type="button" (click)="onClickClearAllFilters()">
          <span>Clear all</span>
          <mat-icon>clear</mat-icon>
        </button>
      </ng-container>
    </div>

    <!-- Filters -->
    <div fxLayout="row wrap" [fxLayoutGap]="config.flex.gap" fxLayoutAlign="start baseline">
      <ng-template aspFilterAnchor></ng-template>
    </div>
  </div>

  <div fxLayout="row wrap" fxLayoutAlign="start baseline">
    <div [fxFlexOffset]="config.flex.offset.left" [fxLayoutGap]="config.flex.gap">
      <!-- Allow content projection to the last row of the filter box card -->
      <ng-content select="[afterFilters]"></ng-content>
    </div>
  </div>
</mat-card>
